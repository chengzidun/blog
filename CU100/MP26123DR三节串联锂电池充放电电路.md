# MP26123DR三节串联锂电池充放电电路
<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">

<font color=#999AAA >

@[TOC](文章目录)

</font>

<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">

> # 前言
> <font color=#999AAA >前文<<智能家居无线组网遥控电子智能锁>>在使用发现中每隔段时间便要更换电池, 甚是麻烦, 因为是智能电子锁使用一次性5号四节电池串联供电, 因此需要改用三节18650锂电池串联对它供电, 一次性解决免更换电池烦恼。
> </font>

<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">

<font color=#999AAA >

# 一、概述
<font face="宋体" color=black size=4>		
&nbsp;&nbsp;MP26123是用于2节或3节锂离子电池组的单片DC-DC降压开关充电IC。它有一个集成的高侧功率MOSFET可以输出高达2A的充电电流。它还具有峰值电流模式控制，以快速回路响应和易于补偿。同时它具有多种故障状态保护，包括逐循环限流和热关闭。其他安全功能包括电池温度监测和保护，充电状态指示和可编程定时器，停止充电循环。广泛应用于移动设备、可携式产品和上网本等场合。
</font>

&ensp;

# 二、电路和原理
## 1.电路图
![在这里插入图片描述](https://img-blog.csdnimg.cn/802371be0f2347c595bbf3d6242fc68b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_20,color_FFFFFF,t_70,g_se,x_16/resize,p_80,#pic_center)

## 2.原理概述
<font face="宋体" color=black size=4> 
&nbsp;&nbsp;上图中U1是MP26123DR, U1的PIN1是VCC为IC供电引脚, 电压范围在9~24V; PIN2是NTC输入, 可以用来检测电池温度, 范围在0~50℃; PIN3和PIN4是指示充电状态和故障报警, 需要配合查看; PIN5脚是内部3.3V参考电压输出; PIN6是使能端, 低电平使能, 高电平失能; PIN7是选择2节或3节电池组, 接地是2节, 接3.3V参考电压和浮空是3节;  PIN8和PIN9是通过外部阻容进行内部比较补偿输入; PIN10和PIN11是检测电池电压和充电电流, 改变R4阻值可设置充电电流; PIN12是接地; PIN13外定电容来控制涓流充电定时时间; PIN14和PIN15是BUCK电路输出; PIN16是调节器输入电压, 电压范围在9~24V, 是给BUCK电路供电的。
</font>

<font face="宋体" color=black size=4> 
&nbsp;&nbsp;P1端子是外部电源输入接口, 输入电压范围在(+Vbatt+0.3V) < (+VIN) <= (+24V), +Vbatt = cell * 4.2V, P2端子是输出电压给设备供电。当没有外部电源供电时, 假设这时3节锂电池是满电压共12.6V, 由于没有输入电压, +VSYS在这一时刻没有电压, Q2也截止。 但电池电压会通过Q2体二极管输出电压电流到+VSYS上给系统供电, 虽然电压也会施加在U1的PIN16上, 但是并不会对电池自充, 因为不符合充电条件, 且看下图。当设备负载很大时, 电池电流流经Q2体二极管, 体二极管是否能承受住, 本电路Q2的PMOS管是选用AOD409, 经查手册Is的最大连续电流为30A, 在选用MOS时可注意该参数, 同时也要关注Rds(on)参数。由于该IC并没有放电保护, 没有外部输入对它充电, 电池会一直放电输出给设备, 直到电池没电。
</font>

&ensp;

![在这里插入图片描述](https://img-blog.csdnimg.cn/770659982df14b76afe9aa46da73378e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_19,color_FFFFFF,t_70,g_se,x_16/resize,p_50,#pic_center)
<font face="宋体" color=black size=4>
	<center>**MP26123的充电状态指示**</center>	
</font>

&ensp;

![在这里插入图片描述](https://img-blog.csdnimg.cn/aa32704884f24379b388bf903e77a1ae.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_20,color_FFFFFF,t_70,g_se,x_16/resize,p_50,#pic_center)
<font face="宋体" color=black size=4>
	<center>**AOD409电参数特性**</center>	
</font>

&ensp;

<font face="宋体" color=black size=4> 
&nbsp;&nbsp;在3节电池下从P1端子输入一个24V电源(+VIN), +VIN给U1的PIN1供电, 经Q1的体二极管后的+VSYS给U1的PIN16供电, +VSYS同时提供电源输出给设备。因为+VIN有电压, 所以Q2一直截止, 且电池电压不会高于+VSYS, 电池并不会放电。U1的VCC和VIN输入电压正常, 且NTC检测温度正常, PIN3(ACOK)便会输出低电压使Q1导通具有更强的输出能力, 发光二极管D3点亮, 指示正常; 与此同时, 倘若电池电压不满, U1便对电池进行充电, PIN4(CHGOK)输出低电平发光二极管D2点亮指示正在充电,  当充到非常接近满电压后会进入涓流充电, 此时D2便会熄灭。U1通过R4两端测量电池电压和充电电流, 改变R4阻值可设置充电电流, 公式是Ichg(A) = 200mV / R4(mΩ), 最大2A充电电流。当NTC检测到电池温度超出范围便会停止充电, 这是在一个高温环境非常重要的保护。
</font>

<font face="宋体" color=black size=4> 
&nbsp;&nbsp;当输入一个12V电源供电时, 假设电池电压大于(12-0.3)V, 根据VIN-Vbatt < 0.3V所示U1内部调节器禁止对电池充电, PIN3(ACOK)输出高电平使Q1截止, 同时D3熄灭。因为+VIN是12V, 所以Q2截止, 若是电池电压小于12V则由+VIN给设备供电, 反之高于12V, 电池电压电流经Q2体二极流向+VSYS给设备供。
</font>

<font face="宋体" color=black size=4> 
&nbsp;&nbsp;改变C6容值可设置涓流充电时间和总充电时间, 公式如下图:
</font>

&ensp;
![在这里插入图片描述](https://img-blog.csdnimg.cn/292ac1f25b974844a5258ad1214f50a7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_17,color_FFFFFF,t_70,g_se,x_16/resize,p_60,#pic_center)

&ensp;


## 3.PCB Layout
### (1).布局
![在这里插入图片描述](https://img-blog.csdnimg.cn/350e1479903e483dac59f1f904c2a0b0.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_20,color_FFFFFF,t_70,g_se,x_16/resize,p_50,#pic_center)

&ensp;

### (2).印制板图
![在这里插入图片描述](https://img-blog.csdnimg.cn/b012b0e5f10f4b438855291c58b11f38.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_20,color_FFFFFF,t_70,g_se,x_16/resize,p_50,#pic_center)

&ensp;

# 三、BOM表
![在这里插入图片描述](https://img-blog.csdnimg.cn/18db7377c97d4db381da977026999c41.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_20,color_FFFFFF,t_70,g_se,x_16/resize,p_60,#pic_center)

&ensp;

# 四、技术参数要求
## 1. 输入电源电压: 13V~24VDC
## 2. 工作环境温度: 0~+50℃，无冷凝水

&ensp;

# 五、成品图
![在这里插入图片描述](https://img-blog.csdnimg.cn/52d540869bb24e0b8e100c1893e2273e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAY2hlbmd6aWR1bg==,size_20,color_FFFFFF,t_70,g_se,x_16/resize,p_60,#pic_center)

&ensp;

# 六、总结
<font face="宋体" color=black size=4>
&nbsp;&nbsp;市面上单节锂电池充放电管理IC居多, 两到三节锂电池充电管理IC不好找, 该IC价格大概在2块至3块人民币, 还算可以。只要外接少量常用的器件便可实现三节电池充电, 方案简单, 在一般应用中是足够的。
</font>

&ensp;

# 七、下载地址


&ensp;

<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=4">

> <font face="宋体" color=red size=4>**免责申明: 作者难免技术水平有限，如有错误拒不承认，本文技术资料只适于学习和参考，不可商用，若要商用，不必告知我，跟我没一毛关系。**</font>
